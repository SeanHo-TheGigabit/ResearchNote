# Chrome DevTools å®Œæ•´æ€§èƒ½è°ƒè¯•æŒ‡å—

## ç›®å½•
1. [DevTools æ¦‚è§ˆ](#devtools-æ¦‚è§ˆ)
2. [Performance é¢æ¿æ·±åº¦ä½¿ç”¨](#performance-é¢æ¿æ·±åº¦ä½¿ç”¨)
3. [Network é¢æ¿è¯¦è§£](#network-é¢æ¿è¯¦è§£)
4. [Memory é¢æ¿ä½¿ç”¨](#memory-é¢æ¿ä½¿ç”¨)
5. [Coverage é¢æ¿](#coverage-é¢æ¿)
6. [Rendering é¢æ¿](#rendering-é¢æ¿)
7. [Layers é¢æ¿](#layers-é¢æ¿)
8. [Performance Monitor](#performance-monitor)
9. [2024 æ–°åŠŸèƒ½](#2024-æ–°åŠŸèƒ½)
10. [å®ç”¨æŠ€å·§å’Œå¿«æ·é”®](#å®ç”¨æŠ€å·§å’Œå¿«æ·é”®)

---

## DevTools æ¦‚è§ˆ

### æ‰“å¼€ DevTools

```bash
# Windows/Linux
F12 æˆ– Ctrl + Shift + I

# Mac
Cmd + Option + I

# å³é”®èœå•
å³é”® -> æ£€æŸ¥ (Inspect)

# ç‰¹å®šé¢æ¿å¿«æ·é”®
Ctrl + Shift + C  # Elements
Ctrl + Shift + J  # Console
Ctrl + Shift + E  # Network (è‡ªå®šä¹‰)
```

### DevTools å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Elements | Console | Sources | Network | Perform...â”‚  ä¸»æ ‡ç­¾
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                     â”‚
â”‚              ä¸»å·¥ä½œåŒº                               â”‚
â”‚                                                     â”‚
â”‚                                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Styles | Computed | Layout | Event Listeners...  â”‚  ä¾§è¾¹æ 
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

# æ›´å¤šå·¥å…· (â‹® èœå• -> More tools)
- Coverage
- Performance monitor
- Rendering
- Layers
- Animations
- Changes
- CSS Overview
```

---

## Performance é¢æ¿æ·±åº¦ä½¿ç”¨

### é¢æ¿ç»“æ„è¯¦è§£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [â—] [âŸ³] [ğŸ—‘] [â¬†] [â¬‡] [âš™ï¸]  å·¥å…·æ                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Overview (æ¦‚è§ˆ)                                         â”‚
â”‚ â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—  â”‚
â”‚ â•‘ FPS   â–‚â–â–‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‚â–â–â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–â–‚                      â•‘  â”‚
â”‚ â•‘ CPU   â–“â–“â–“â–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“                   â•‘  â”‚
â”‚ â•‘ NET   â”â”â”â”â”â–“â–“â”â”â”â”â–“â–“â–“â”â”â”â”â”â”â”                      â•‘  â”‚
â”‚ â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Frames (å¸§)                                             â”‚
â”‚ â”Œâ”€â”â”Œâ”€â”â”Œâ”€â”€â”â”Œâ”€â”â”Œâ”€â”â”Œâ”€â”â”Œâ”€â”€â”€â”€â”                            â”‚
â”‚ â””â”€â”˜â””â”€â”˜â””â”€â”€â”˜â””â”€â”˜â””â”€â”˜â””â”€â”˜â””â”€â”€â”€â”€â”˜                            â”‚
â”‚   60fps  60   58  60  60  60   25fps                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Network (ç½‘ç»œ)                                          â”‚
â”‚ â”â”â”â”â–“â–“â–“â–“â”â”â”â”â–“â–“â”â”â”â–“â–“â–“â–“â”â”â”                              â”‚
â”‚                                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Main (ä¸»çº¿ç¨‹) - ç«ç„°å›¾                                   â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚
â”‚ â”‚ Task    â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“            â”‚          â”‚
â”‚ â”‚  â”œâ”€ Event: click                          â”‚          â”‚
â”‚ â”‚  â”‚  â””â”€ Function Call                      â”‚          â”‚
â”‚ â”‚  â”‚     â””â”€ handleClick                     â”‚          â”‚
â”‚ â”‚  â”‚        â”œâ”€ Recalculate Style            â”‚          â”‚
â”‚ â”‚  â”‚        â””â”€ Layout                       â”‚          â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Raster (å…‰æ …åŒ–)                                         â”‚
â”‚ Worker (Web Worker)                                     â”‚
â”‚ GPU (GPU è¿›ç¨‹)                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Summary | Bottom-Up | Call Tree | Event Log            â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚ â”‚ Loading:    125ms                       â”‚            â”‚
â”‚ â”‚ Scripting:  850ms                       â”‚            â”‚
â”‚ â”‚ Rendering:  430ms                       â”‚            â”‚
â”‚ â”‚ Painting:   145ms                       â”‚            â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å½•åˆ¶è®¾ç½®ï¼ˆâš™ï¸ é½¿è½®å›¾æ ‡ï¼‰

```javascript
CPU èŠ‚æµ:
â–¡ No throttling
â–¡ 4x slowdown
â–¡ 6x slowdown
â˜‘ 20x slowdown (Chrome 126+)
â–¡ Calibrate... (Chrome 134+)
  // æ ¡å‡†ç”Ÿæˆ Low-tier mobile å’Œ Mid-tier mobile

ç½‘ç»œèŠ‚æµ:
â–¡ No throttling
â–¡ Fast 3G
â˜‘ Slow 3G
â–¡ Offline

å…¶ä»–é€‰é¡¹:
â˜‘ Screenshots  // å½•åˆ¶æˆªå›¾
â˜‘ Memory      // è®°å½•å†…å­˜ä½¿ç”¨
â˜‘ Web Vitals  // æ˜¾ç¤º Core Web Vitals
â–¡ Disable JavaScript samples  // ç¦ç”¨ JS é‡‡æ ·
```

### å½•åˆ¶æ¨¡å¼

#### æ¨¡å¼1: å½•åˆ¶äº¤äº’
```javascript
æ­¥éª¤:
1. ç‚¹å‡» â— Record æŒ‰é’®
2. æ‰§è¡Œéœ€è¦åˆ†æçš„æ“ä½œï¼ˆæ»šåŠ¨ã€ç‚¹å‡»ã€è¾“å…¥ç­‰ï¼‰
3. ç‚¹å‡» â¹ Stop åœæ­¢å½•åˆ¶
4. åˆ†æç»“æœ

é€‚ç”¨åœºæ™¯:
- è°ƒè¯•ç”¨æˆ·äº¤äº’æ€§èƒ½
- åˆ†ææ»šåŠ¨å¡é¡¿
- ä¼˜åŒ–åŠ¨ç”»æµç•…åº¦
```

#### æ¨¡å¼2: é‡æ–°åŠ è½½å¹¶å½•åˆ¶
```javascript
æ­¥éª¤:
1. ç‚¹å‡» âŸ³ Start profiling and reload page
2. é¡µé¢é‡æ–°åŠ è½½å¹¶è‡ªåŠ¨å½•åˆ¶
3. åŠ è½½å®Œæˆåè‡ªåŠ¨åœæ­¢
4. åˆ†æç»“æœ

é€‚ç”¨åœºæ™¯:
- åˆ†æé¡µé¢åŠ è½½æ€§èƒ½
- ä¼˜åŒ–é¦–å±æ¸²æŸ“
- æµ‹é‡ FCPã€LCP ç­‰æŒ‡æ ‡
```

### Overview åŒºåŸŸåˆ†æ

#### FPS å›¾è¡¨ï¼ˆå¸§ç‡ï¼‰
```javascript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ FPS â–‚â–â–‚â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‚â–â–â–ˆâ–ˆâ–ˆâ–â–â–â–â–â–â–â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
     â†‘      â†‘          â†‘         â†‘
   æµç•…    æµç•…       å¡é¡¿      æµç•…

ç»¿è‰² (é«˜æŸ±): 60 FPS - æµç•…
é»„è‰² (ä¸­æŸ±): 30-60 FPS - è½»å¾®å¡é¡¿
çº¢è‰² (ä½æŸ±): < 30 FPS - æ˜æ˜¾å¡é¡¿

é•¿ä»»åŠ¡æ ‡è®°:
çº¢è‰²ä¸‰è§’ âš ï¸ = ä»»åŠ¡æ‰§è¡Œè¶…è¿‡ 50ms
```

#### CPU å›¾è¡¨ï¼ˆCPU ä½¿ç”¨ç‡ï¼‰
```javascript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CPU â–“â–“â–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“â–“â–“â–“â–“  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é¢œè‰²ç¼–ç :
ğŸŸ¨ é»„è‰²: JavaScript æ‰§è¡Œ
ğŸŸª ç´«è‰²: æ¸²æŸ“ (Style, Layout)
ğŸŸ© ç»¿è‰²: ç»˜åˆ¶ (Paint, Composite)
â¬œ ç°è‰²: å…¶ä»– (System, Idle)

åˆ†æ:
- é»„è‰²è¿‡å¤š: JavaScript æ‰§è¡Œæ—¶é—´é•¿
- ç´«è‰²è¿‡å¤š: å¸ƒå±€è®¡ç®—å¤æ‚
- ç»¿è‰²è¿‡å¤š: ç»˜åˆ¶æ“ä½œé¢‘ç¹
- ç°è‰²è¿‡å¤š: ç­‰å¾…/é˜»å¡
```

#### NET å›¾è¡¨ï¼ˆç½‘ç»œæ´»åŠ¨ï¼‰
```javascript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ NET â”â”â”â”â–“â–“â–“â–“â”â”â”â”â–“â–“â”â”â”â–“â–“â–“â–“â”â”â”â”   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

æ¯æ¡çº¿ä»£è¡¨ä¸€ä¸ªç½‘ç»œè¯·æ±‚:
æ·±è‰²: é«˜ä¼˜å…ˆçº§èµ„æº (HTML, CSS, JS)
æµ…è‰²: ä½ä¼˜å…ˆçº§èµ„æº (å›¾ç‰‡ã€å­—ä½“)

å¯†é›†çš„çº¿æ¡ = å¤§é‡å¹¶å‘è¯·æ±‚
é•¿çš„çº¿æ¡ = è¯·æ±‚è€—æ—¶é•¿
```

### Main çº¿ç¨‹è¯¦è§£

#### ç«ç„°å›¾é¢œè‰²å«ä¹‰
```javascript
// JavaScript
ğŸŸ¨ æµ…é»„: å‡½æ•°æ‰§è¡Œ
ğŸŸ§ æ©™è‰²: ç¼–è¯‘/ä¼˜åŒ–

// æ¸²æŸ“
ğŸŸª ç´«è‰²: Recalculate Style
ğŸŸª æ·±ç´«: Layout (Reflow)
ğŸŸª ç´«çº¢: Update Layer Tree

// ç»˜åˆ¶
ğŸŸ© æµ…ç»¿: Paint
ğŸŸ© æ·±ç»¿: Composite Layers
ğŸŸ© ç»¿è‰²: Rasterize

// å…¶ä»–
â¬œ ç™½è‰²: ç©ºé—²
â¬› ç°è‰²: ç³»ç»Ÿ

// è­¦å‘Š
ğŸŸ¥ çº¢è‰²è¾¹æ¡†: é•¿ä»»åŠ¡ (>50ms)
```

#### å¸¸è§äº‹ä»¶ç±»å‹

**ç”¨æˆ·äº¤äº’äº‹ä»¶**:
```javascript
Event: click
Event: scroll
Event: mousemove
Event: keypress
Event: touchstart
Event: wheel

// ç‚¹å‡»äº‹ä»¶å±•å¼€å
Event: click (45ms)
 â””â”€ Function Call (42ms)
    â””â”€ handleClick (40ms)
       â”œâ”€ Recalculate Style (5ms)
       â”œâ”€ Layout (18ms)
       â””â”€ Paint (15ms)
```

**å®šæ—¶å™¨äº‹ä»¶**:
```javascript
Timer Fired
 â””â”€ setInterval callback

Animation Frame Fired
 â””â”€ requestAnimationFrame callback
```

**ç½‘ç»œç›¸å…³**:
```javascript
Parse HTML
Parse Stylesheet
Evaluate Script
Compile Script
```

**æ¸²æŸ“äº‹ä»¶**:
```javascript
Recalculate Style (é‡æ–°è®¡ç®—æ ·å¼)
 - è§¦å‘: CSS å˜åŒ–ã€DOM å˜åŒ–
 - è€—æ—¶: é€šå¸¸ 1-10ms
 - ä¼˜åŒ–: å‡å°‘é€‰æ‹©å™¨å¤æ‚åº¦

Layout (å¸ƒå±€/å›æµ)
 - è§¦å‘: å‡ ä½•å±æ€§å˜åŒ–
 - è€—æ—¶: å¯èƒ½å¾ˆé•¿
 - ä¼˜åŒ–: æ‰¹é‡è¯»å†™ DOM

Update Layer Tree (æ›´æ–°å±‚æ ‘)
 - è§¦å‘: åˆæˆå±‚å˜åŒ–
 - ä¼˜åŒ–: åˆç†ä½¿ç”¨ will-change

Paint (ç»˜åˆ¶)
 - è§¦å‘: è§†è§‰å±æ€§å˜åŒ–
 - è€—æ—¶: å–å†³äºç»˜åˆ¶åŒºåŸŸ
 - ä¼˜åŒ–: å‡å°‘ç»˜åˆ¶åŒºåŸŸ

Composite Layers (åˆæˆå±‚)
 - GPU åŠ é€Ÿ
 - æœ€å¿«çš„æ¸²æŸ“æ–¹å¼
```

### è¯¦ç»†ä¿¡æ¯æ ‡ç­¾

#### Summary (æ€»ç»“)
```javascript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Total Time: 1,542ms              â”‚
â”‚                                   â”‚
â”‚ Loading:    258ms  (16.7%)       â”‚
â”‚ Scripting:  845ms  (54.8%)  â†    â”‚  ä¸»è¦ç“¶é¢ˆ
â”‚ Rendering:  312ms  (20.2%)       â”‚
â”‚ Painting:   89ms   (5.8%)        â”‚
â”‚ System:     28ms   (1.8%)        â”‚
â”‚ Idle:       10ms   (0.6%)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åˆ†æ:
- Scripting å  54.8%: JavaScript æ˜¯ä¸»è¦ç“¶é¢ˆ
- åº”è¯¥ä¼˜åŒ– JavaScript æ‰§è¡Œ
```

#### Bottom-Up (è‡ªåº•å‘ä¸Š)
```javascript
æŒ‰æ€»æ—¶é—´æ’åºçš„å‡½æ•°åˆ—è¡¨:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Activity          â”‚ Total â”‚ Self  â”‚ URL    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ heavyFunction     â”‚ 850ms â”‚ 820ms â”‚ app.js â”‚  â† æœ€è€—æ—¶
â”‚ processData       â”‚ 320ms â”‚ 45ms  â”‚ app.js â”‚
â”‚ render            â”‚ 280ms â”‚ 15ms  â”‚ app.js â”‚
â”‚ (anonymous)       â”‚ 125ms â”‚ 120ms â”‚ app.js â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Self Time: å‡½æ•°è‡ªèº«æ‰§è¡Œæ—¶é—´
Total Time: åŒ…æ‹¬è°ƒç”¨çš„å­å‡½æ•°

ä½¿ç”¨:
1. å¿«é€Ÿæ‰¾åˆ°æœ€è€—æ—¶çš„å‡½æ•°
2. ç‚¹å‡»å±•å¼€æŸ¥çœ‹è°ƒç”¨è·¯å¾„
3. ç‚¹å‡»æ–‡ä»¶åè·³è½¬åˆ°æºä»£ç 
```

#### Call Tree (è°ƒç”¨æ ‘)
```javascript
æ˜¾ç¤ºå‡½æ•°è°ƒç”¨å±‚çº§:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â–¼ (root)                    1,542ms        â”‚
â”‚   â”œâ”€â–¼ Event: click            1,520ms      â”‚
â”‚   â”‚  â””â”€â–¼ handleClick          1,485ms      â”‚
â”‚   â”‚     â”œâ”€â–¼ processData         850ms      â”‚
â”‚   â”‚     â”‚  â””â”€ heavyFunction     820ms  â†   â”‚  å®šä½åˆ°è¿™é‡Œ
â”‚   â”‚     â””â”€â–¼ updateUI            550ms      â”‚
â”‚   â”‚        â”œâ”€ Recalculate Style 180ms      â”‚
â”‚   â”‚        â””â”€ Layout            350ms      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½¿ç”¨:
- ç†è§£å‡½æ•°è°ƒç”¨é“¾
- æ‰¾å‡ºè°ƒç”¨æ…¢å‡½æ•°çš„ä¸Šå±‚å‡½æ•°
- åˆ†æä¼˜åŒ–å½±å“èŒƒå›´
```

#### Event Log (äº‹ä»¶æ—¥å¿—)
```javascript
æŒ‰æ—¶é—´é¡ºåºåˆ—å‡ºæ‰€æœ‰äº‹ä»¶:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Start  â”‚ Event              â”‚ Duration â”‚ Pos â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 0.0ms  â”‚ Parse HTML         â”‚ 45ms     â”‚ ... â”‚
â”‚ 45.2ms â”‚ Evaluate Script    â”‚ 120ms    â”‚ ... â”‚
â”‚ 165.5msâ”‚ Event: DOMContent..â”‚ 5ms      â”‚ ... â”‚
â”‚ 520.8msâ”‚ Event: click       â”‚ 850ms    â”‚ ... â”‚  â† ç‚¹å‡»è¿™é‡Œ
â”‚ 1370ms â”‚ Timer Fired        â”‚ 15ms     â”‚ ... â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½¿ç”¨:
- æŸ¥çœ‹äº‹ä»¶å‘ç”Ÿçš„æ—¶é—´é¡ºåº
- è°ƒè¯•äº‹ä»¶è§¦å‘æ—¶æœºé—®é¢˜
```

### å®ç”¨åˆ†ææŠ€å·§

#### æŠ€å·§1: é€‰æ‹©æ—¶é—´æ®µ
```javascript
åœ¨ Overview åŒºåŸŸæ‹–æ‹½é€‰æ‹©ä¸€ä¸ªæ—¶é—´æ®µ:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ CPU  â–“â–“â–“â–ˆâ–ˆâ–ˆâ–ˆâ–ˆ[â–“â–“â–“â–“â–ˆâ–ˆ]â–ˆâ–ˆâ–ˆâ–ˆâ–“â–“â–“     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â†‘      â†‘
        é€‰ä¸­è¿™æ®µå¡é¡¿åŒºåŸŸ

æ•ˆæœ:
- ä¸‹æ–¹åªæ˜¾ç¤ºé€‰ä¸­æ—¶æ®µçš„è¯¦ç»†ä¿¡æ¯
- Summary åªç»Ÿè®¡é€‰ä¸­éƒ¨åˆ†
- èšç„¦é—®é¢˜åŒºåŸŸ
```

#### æŠ€å·§2: æœç´¢åŠŸèƒ½
```javascript
Ctrl/Cmd + F æ‰“å¼€æœç´¢:

æœç´¢ "layout" â†’ é«˜äº®æ‰€æœ‰ Layout äº‹ä»¶
æœç´¢ "fetch" â†’ é«˜äº®æ‰€æœ‰ fetch è°ƒç”¨
æœç´¢ "myFunction" â†’ å®šä½ç‰¹å®šå‡½æ•°

æ”¯æŒæ­£åˆ™è¡¨è¾¾å¼
```

#### æŠ€å·§3: ä½¿ç”¨ User Timing API
```javascript
// åœ¨ä»£ç ä¸­æ·»åŠ æ ‡è®°
performance.mark('feature-start');

// ... æ‰§è¡ŒåŠŸèƒ½ä»£ç  ...

performance.mark('feature-end');
performance.measure(
  'feature-duration',
  'feature-start',
  'feature-end'
);

// åœ¨ Performance é¢æ¿ä¸­ä¼šæ˜¾ç¤ºä¸ºç´«è‰²è±å½¢æ ‡è®° â—†
// ä¾¿äºå®šä½ç‰¹å®šåŠŸèƒ½çš„æ€§èƒ½
```

#### æŠ€å·§4: ä¿å­˜å’ŒåŠ è½½ Trace
```javascript
// ä¿å­˜å½“å‰å½•åˆ¶
ç‚¹å‡» â¬‡ ä¸‹è½½æŒ‰é’® â†’ ä¿å­˜ä¸º .json æ–‡ä»¶

// åŠ è½½ä¹‹å‰çš„å½•åˆ¶
ç‚¹å‡» â¬† ä¸Šä¼ æŒ‰é’® â†’ é€‰æ‹© .json æ–‡ä»¶

ç”¨é€”:
- å¯¹æ¯”ä¼˜åŒ–å‰å
- åˆ†äº«ç»™å›¢é˜Ÿæˆå‘˜
- åˆ›å»ºæ€§èƒ½åŸºå‡†
```

---

## Network é¢æ¿è¯¦è§£

### é¢æ¿å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ [ğŸ”´] [ğŸ—‘] [ğŸ”] [âš™ï¸]  Preserve log  Disable cache   â”‚  å·¥å…·æ 
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Filter: [All] [XHR] [JS] [CSS] [Img] [Doc] [WS]... â”‚  è¿‡æ»¤å™¨
â”‚ ğŸ” [                                              ] â”‚  æœç´¢
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Name  â”‚ Status â”‚ Type â”‚ Initiator â”‚ Size â”‚ Time    â”‚  åˆ—æ ‡é¢˜
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ index.html â”‚ 200 â”‚ doc  â”‚ (Other) â”‚ 12KB â”‚ 250ms  â”‚
â”‚ app.js     â”‚ 200 â”‚ js   â”‚ index   â”‚ 450KBâ”‚ 180ms  â”‚
â”‚ style.css  â”‚ 200 â”‚ css  â”‚ index   â”‚ 45KB â”‚ 95ms   â”‚
â”‚ api/data   â”‚ 200 â”‚ xhr  â”‚ app.js  â”‚ 8KB  â”‚ 520ms  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ ğŸ“Š Waterfall (ç€‘å¸ƒå›¾)                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### è¯·æ±‚è¯¦ç»†ä¿¡æ¯

ç‚¹å‡»ä»»ä½•è¯·æ±‚æŸ¥çœ‹è¯¦æƒ…:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Headers | Preview | Response | Initiator | Timing  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Timing æ ‡ç­¾é¡µ:                                      â”‚
â”‚                                                      â”‚
â”‚ Queueing              â–“ 8ms                         â”‚
â”‚ Stalled               â–“â–“â–“ 25ms                      â”‚
â”‚ DNS Lookup            â–“ 12ms                        â”‚
â”‚ Initial connection    â–“â–“ 18ms                       â”‚
â”‚ SSL                   â–“â–“â–“ 32ms                      â”‚
â”‚ Request sent          â–“ 1ms                         â”‚
â”‚ Waiting (TTFB)        â–“â–“â–“â–“â–“â–“â–“â–“ 280ms                â”‚
â”‚ Content Download      â–“â–“ 15ms                       â”‚
â”‚                                                      â”‚
â”‚ Total: 391ms                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### Timing è¯¦è§£

```javascript
Queueing (æ’é˜Ÿ)
- åŸå› : æµè§ˆå™¨æœ‰å¹¶å‘é™åˆ¶
- HTTP/1.1: æ¯åŸŸåæœ€å¤š 6 ä¸ªå¹¶å‘
- ä¼˜åŒ–: ä½¿ç”¨ HTTP/2 æˆ–åŸŸååˆ†ç‰‡

Stalled (é˜»å¡)
- åŸå› : ç­‰å¾…å¯ç”¨è¿æ¥æˆ–ä»£ç†åå•†
- ä¼˜åŒ–: å‡å°‘åŒæ—¶è¯·æ±‚æ•°

DNS Lookup (DNS æŸ¥è¯¢)
- åŸå› : è§£æåŸŸåä¸º IP
- ä¼˜åŒ–:
  <link rel="dns-prefetch" href="//api.example.com">

Initial connection (åˆå§‹è¿æ¥)
- åŸå› : å»ºç«‹ TCP è¿æ¥
- ä¼˜åŒ–:
  <link rel="preconnect" href="https://api.example.com">

SSL (TLS æ¡æ‰‹)
- åŸå› : HTTPS åå•†
- ä¼˜åŒ–: ä½¿ç”¨ HTTP/3 (QUIC)

Request sent (å‘é€è¯·æ±‚)
- é€šå¸¸å¾ˆå¿« (< 1ms)

Waiting (TTFB) - ç­‰å¾…é¦–å­—èŠ‚
- åŸå› : æœåŠ¡å™¨å¤„ç†æ—¶é—´
- æœ€å…³é”®çš„ä¼˜åŒ–ç‚¹
- ä¼˜åŒ–:
  - ç¼“å­˜
  - CDN
  - æœåŠ¡å™¨ç«¯ä¼˜åŒ–
  - æ•°æ®åº“æŸ¥è¯¢ä¼˜åŒ–

Content Download (ä¸‹è½½å†…å®¹)
- åŸå› : ä¸‹è½½å“åº”ä½“
- ä¼˜åŒ–:
  - å‹ç¼© (Gzip/Brotli)
  - å‡å°æ–‡ä»¶å¤§å°
```

### ç€‘å¸ƒå›¾åˆ†æ

```javascript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Name         â”‚ Waterfall                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ index.html   â”‚ â”â”â”â”â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â”â”â”                 â”‚
â”‚ app.js       â”‚      â”â”â”â–“â–“â–“â–“â–“â–“â–“â–“â–“â”â”                  â”‚
â”‚ style.css    â”‚      â”â”â”â–“â–“â–“â–“â–“â”â”                      â”‚
â”‚ logo.png     â”‚         â”â”â”â–“â–“â–“â”                      â”‚
â”‚ api/user     â”‚            â”â”â”â”â”â”â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â”â”       â”‚
â”‚ api/posts    â”‚                        â”â”â”â–“â–“â–“â–“â–“â”     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é¢œè‰²å«ä¹‰:
â” æµ…è‰²: ç­‰å¾… (Queueing, Stalled)
â–“ æ·±è‰²: ä¸‹è½½

åˆ†æ:
- api/user å’Œ api/posts æ˜¯ä¸²è¡Œçš„ (åº”è¯¥å¹¶è¡Œ)
- é™æ€èµ„æº (js, css, png) å¹¶è¡ŒåŠ è½½
```

#### é—®é¢˜æ¨¡å¼: è¯·æ±‚ç€‘å¸ƒ

```javascript
âŒ é—®é¢˜: ä¸²è¡ŒåŠ è½½
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ html  â”‚ â–“â–“â–“â–“â–“â–“â–“â–“                        â”‚
â”‚ js    â”‚         â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“           â”‚
â”‚ data1 â”‚                     â–“â–“â–“â–“â–“      â”‚  â† ç­‰å¾… js
â”‚ data2 â”‚                          â–“â–“â–“â–“ â”‚  â† ç­‰å¾… data1
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

// ä»£ç é—®é¢˜
const js = await fetch('/app.js');
const data1 = await fetch('/api/data1');  // ä¸²è¡Œ
const data2 = await fetch('/api/data2');  // ä¸²è¡Œ

âœ… è§£å†³: å¹¶è¡ŒåŠ è½½
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ html  â”‚ â–“â–“â–“â–“â–“â–“â–“â–“                        â”‚
â”‚ js    â”‚         â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“           â”‚
â”‚ data1 â”‚                 â–“â–“â–“â–“â–“          â”‚  â† å¹¶è¡Œ
â”‚ data2 â”‚                 â–“â–“â–“â–“           â”‚  â† å¹¶è¡Œ
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

// ä¼˜åŒ–å
const [data1, data2] = await Promise.all([
  fetch('/api/data1'),
  fetch('/api/data2')
]);
```

### Network è¿‡æ»¤å™¨

```javascript
// å†…ç½®è¿‡æ»¤å™¨
All     - æ‰€æœ‰è¯·æ±‚
XHR     - Ajax/Fetch è¯·æ±‚
JS      - JavaScript æ–‡ä»¶
CSS     - æ ·å¼è¡¨
Img     - å›¾ç‰‡
Media   - éŸ³è§†é¢‘
Font    - å­—ä½“
Doc     - HTML æ–‡æ¡£
WS      - WebSocket
Wasm    - WebAssembly
Manifest- PWA manifest
Other   - å…¶ä»–

// è‡ªå®šä¹‰è¿‡æ»¤å™¨
-method:POST              // æ’é™¤ POST è¯·æ±‚
domain:api.example.com    // åªçœ‹ç‰¹å®šåŸŸå
larger-than:1M            // å¤§äº 1MB çš„èµ„æº
mime-type:image/png       // ç‰¹å®š MIME ç±»å‹
status-code:200           // ç‰¹å®šçŠ¶æ€ç 
is:running                // æ­£åœ¨è¿›è¡Œçš„è¯·æ±‚
```

### æ€§èƒ½åˆ†æåŠŸèƒ½

#### 1. DOMContentLoaded å’Œ Load äº‹ä»¶

```javascript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Waterfall                               â”‚
â”‚ â”â”â”â”â–“â–“â–“â–“â”â”â”â”â”â”â–“â–“â”â”â”â”â”â”â”â”â”             â”‚
â”‚         â†‘             â†‘                 â”‚
â”‚       è“çº¿ DOMContentLoaded: 1.2s      â”‚
â”‚                    çº¢çº¿ Load: 2.5s     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

DOMContentLoaded (è“çº¿)
- DOM è§£æå®Œæˆ
- ä¸åŒ…æ‹¬æ ·å¼è¡¨ã€å›¾ç‰‡

Load (çº¢çº¿)
- æ‰€æœ‰èµ„æºåŠ è½½å®Œæˆ
- åŒ…æ‹¬å›¾ç‰‡ã€æ ·å¼è¡¨ã€iframe
```

#### 2. è¯·æ±‚é˜»å¡åˆ†æ

```javascript
// æŒ‰ä½ Shift æ‚¬åœåœ¨è¯·æ±‚ä¸Š
// æ˜¾ç¤ºè¯·æ±‚å‘èµ·è€…å’Œä¾èµ–å…³ç³»

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ app.js                                  â”‚
â”‚   â†‘ Initiator: index.html (ç»¿è‰²ç®­å¤´)  â”‚
â”‚   â†“ Initiated: api/data (çº¢è‰²ç®­å¤´)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç»¿è‰²: è°å‘èµ·äº†è¿™ä¸ªè¯·æ±‚
çº¢è‰²: è¿™ä¸ªè¯·æ±‚å‘èµ·äº†ä»€ä¹ˆ
```

#### 3. å¯¼å‡º HAR æ–‡ä»¶

```javascript
// å³é”® Network é¢æ¿ -> Save all as HAR with content

ç”¨é€”:
- åˆ†äº«ç»™å›¢é˜Ÿ
- ä½¿ç”¨å…¶ä»–å·¥å…·åˆ†æ (WebPageTest)
- åˆ›å»ºæ€§èƒ½åŸºå‡†
```

---

## Memory é¢æ¿ä½¿ç”¨

### å†…å­˜åˆ†æç±»å‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Select profiling type:                              â”‚
â”‚                                                      â”‚
â”‚ â—‰ Heap snapshot (å †å¿«ç…§)                            â”‚
â”‚   Take a snapshot of the current memory heap        â”‚
â”‚                                                      â”‚
â”‚ â—‹ Allocation instrumentation on timeline           â”‚
â”‚   Record memory allocations over time               â”‚
â”‚                                                      â”‚
â”‚ â—‹ Allocation sampling                               â”‚
â”‚   Sample memory allocations with low overhead       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1. Heap Snapshot (å †å¿«ç…§)

**ä½¿ç”¨æ­¥éª¤**:
```javascript
1. ç‚¹å‡» "Take snapshot"
2. æ‹æ‘„åˆå§‹å¿«ç…§
3. æ‰§è¡Œæ“ä½œ (å¦‚æ‰“å¼€å¯¹è¯æ¡†)
4. æ‹æ‘„ç¬¬äºŒä¸ªå¿«ç…§
5. é€‰æ‹© "Comparison" è§†å›¾å¯¹æ¯”
```

**å¯¹æ¯”è§†å›¾**:
```javascript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Snapshot 2 - Snapshot 1                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Constructor     â”‚ # New â”‚ # Deleted â”‚ # Delta â”‚ Size â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ (array)         â”‚ +50   â”‚ -2        â”‚ +48     â”‚+2.4MBâ”‚  â† å¢é•¿
â”‚ Object          â”‚ +120  â”‚ -8        â”‚ +112    â”‚+580KBâ”‚
â”‚ (string)        â”‚ +85   â”‚ -80       â”‚ +5      â”‚+12KB â”‚
â”‚ HTMLDivElement  â”‚ +10   â”‚ -0        â”‚ +10     â”‚+8KB  â”‚  â† æ³„æ¼?
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

åˆ†æ:
- (array) å¢åŠ äº† 48 ä¸ªï¼Œå  2.4MB â†’ å¯èƒ½çš„å†…å­˜æ³„æ¼
- HTMLDivElement +10 â†’ æ£€æŸ¥æ˜¯å¦æœ‰åˆ†ç¦»çš„ DOM
```

**Summary è§†å›¾**:
```javascript
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Constructor        â”‚ Distance â”‚ Objects â”‚ Shallow  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ (array)            â”‚ 1        â”‚ 12,580  â”‚ 8.5 MB   â”‚
â”‚ (string)           â”‚ 1        â”‚ 45,230  â”‚ 6.2 MB   â”‚
â”‚ Object             â”‚ 1        â”‚ 8,950   â”‚ 4.1 MB   â”‚
â”‚ (closure)          â”‚ 3        â”‚ 2,340   â”‚ 2.8 MB   â”‚  â† æ£€æŸ¥
â”‚ HTMLDivElement     â”‚ -        â”‚ 58      â”‚ 180 KB   â”‚
â”‚ Detached HTMLDiv..â”‚ -        â”‚ 12      â”‚ 45 KB    â”‚  â† æ³„æ¼!
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Shallow Size: å¯¹è±¡æœ¬èº«çš„å¤§å°
Retained Size: å¯¹è±¡ + å®ƒå¼•ç”¨çš„å¯¹è±¡çš„æ€»å¤§å°
Distance: åˆ° GC root çš„è·ç¦» (- è¡¨ç¤ºå·²åˆ†ç¦»)

Detached DOM èŠ‚ç‚¹ = å†…å­˜æ³„æ¼çš„å¸¸è§åŸå› 
```

### 2. Allocation Timeline (åˆ†é…æ—¶é—´çº¿)

```javascript
æ­¥éª¤:
1. ç‚¹å‡» â— å¼€å§‹å½•åˆ¶
2. æ‰§è¡Œæ“ä½œ
3. åœæ­¢å½•åˆ¶
4. æŸ¥çœ‹åˆ†é…çš„æ—¶é—´çº¿

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚ â”‚ â–“â–“â–‘â–‘â–‘â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘     â”‚  â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚   â†‘    â†‘         â†‘                                  â”‚
â”‚ åˆ†é…  é‡Šæ”¾       å¤§é‡åˆ†é…                            â”‚
â”‚                                                      â”‚
â”‚ è“è‰²æ¡: ä»åœ¨å†…å­˜ä¸­çš„å¯¹è±¡                             â”‚
â”‚ ç°è‰²æ¡: å·²è¢«åƒåœ¾å›æ”¶çš„å¯¹è±¡                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é€‰æ‹©ä¸€ä¸ªæ—¶é—´æ®µæŸ¥çœ‹è¯¥æ—¶æ®µåˆ†é…çš„å¯¹è±¡
```

### 3. å¸¸è§å†…å­˜æ³„æ¼æ¨¡å¼

#### æ¨¡å¼1: æœªæ¸…ç†çš„äº‹ä»¶ç›‘å¬å™¨

```javascript
// âŒ æ³„æ¼
class MyComponent {
  constructor() {
    window.addEventListener('resize', this.handleResize);
  }

  handleResize() {
    // å¤„ç†é€»è¾‘
  }

  // ç»„ä»¶é”€æ¯æ—¶æ²¡æœ‰ç§»é™¤ç›‘å¬å™¨
}

// åœ¨ Heap Snapshot ä¸­:
// å³ä½¿ç»„ä»¶å·²é”€æ¯ï¼ŒMyComponent å®ä¾‹ä»åœ¨å†…å­˜ä¸­
// å› ä¸º window çš„äº‹ä»¶ç›‘å¬å™¨ä¿æŒç€å¼•ç”¨

// âœ… ä¿®å¤
class MyComponent {
  constructor() {
    this.handleResize = this.handleResize.bind(this);
    window.addEventListener('resize', this.handleResize);
  }

  destroy() {
    window.removeEventListener('resize', this.handleResize);
  }
}
```

#### æ¨¡å¼2: åˆ†ç¦»çš„ DOM èŠ‚ç‚¹

```javascript
// âŒ æ³„æ¼
let cache = {};

function createElement(id) {
  const element = document.createElement('div');
  cache[id] = element;  // ä¿æŒå¼•ç”¨
  document.body.appendChild(element);
  return element;
}

function removeElement(id) {
  const element = cache[id];
  element.remove();  // ä» DOM ç§»é™¤
  // ä½† cache[id] ä»ç„¶å¼•ç”¨å®ƒ â†’ å†…å­˜æ³„æ¼
}

// åœ¨ Heap Snapshot ä¸­æœç´¢ "Detached"
// æ‰¾åˆ°åˆ†ç¦»çš„ DOM èŠ‚ç‚¹

// âœ… ä¿®å¤
function removeElement(id) {
  const element = cache[id];
  element.remove();
  delete cache[id];  // åˆ é™¤å¼•ç”¨
}
```

#### æ¨¡å¼3: é—­åŒ…é™·é˜±

```javascript
// âŒ æ³„æ¼
function createHandler() {
  const largeData = new Array(1000000).fill('data');

  return function handleClick() {
    console.log(largeData[0]);  // ä¿æŒå¯¹æ•´ä¸ªæ•°ç»„çš„å¼•ç”¨
  };
}

const handlers = [];
for (let i = 0; i < 100; i++) {
  handlers.push(createHandler());  // 100MB+ å†…å­˜
}

// âœ… ä¿®å¤
function createHandler() {
  const largeData = new Array(1000000).fill('data');
  const firstItem = largeData[0];  // åªä¿å­˜éœ€è¦çš„

  return function handleClick() {
    console.log(firstItem);  // ä¸å†å¼•ç”¨æ•´ä¸ªæ•°ç»„
  };
}
```

---

## Coverage é¢æ¿

### æ‰“å¼€ Coverage

```bash
DevTools -> More tools -> Coverage
```

### ä½¿ç”¨æ­¥éª¤

```javascript
1. ç‚¹å‡» âš« å¼€å§‹å½•åˆ¶
2. åˆ·æ–°é¡µé¢æˆ–æ‰§è¡Œæ“ä½œ
3. åœæ­¢å½•åˆ¶
4. æŸ¥çœ‹ç»“æœ

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ URL               â”‚ Type â”‚ Total  â”‚ Unused â”‚ Usage  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ app.js            â”‚ js   â”‚ 450 KB â”‚ 320 KB â”‚ â–“â–“â–‘â–‘â–‘  â”‚ 29%
â”‚ styles.css        â”‚ css  â”‚ 85 KB  â”‚ 62 KB  â”‚ â–“â–‘â–‘â–‘â–‘  â”‚ 27%
â”‚ vendor.js         â”‚ js   â”‚ 890 KB â”‚ 750 KB â”‚ â–“â–‘â–‘â–‘â–‘  â”‚ 16%  â† é—®é¢˜!
â”‚ bootstrap.css     â”‚ css  â”‚ 156 KB â”‚ 145 KB â”‚ â–“â–‘â–‘â–‘â–‘  â”‚ 7%   â† é—®é¢˜!
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

çº¢è‰² = æœªä½¿ç”¨çš„ä»£ç 
è“è‰² = å·²ä½¿ç”¨çš„ä»£ç 

ç‚¹å‡»æ–‡ä»¶æŸ¥çœ‹è¯¦ç»†:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1  function usedFunction() {          // è“è‰²        â”‚
â”‚ 2    console.log('used');                            â”‚
â”‚ 3  }                                                 â”‚
â”‚ 4                                                    â”‚
â”‚ 5  function unusedFunction() {        // çº¢è‰²        â”‚
â”‚ 6    console.log('never called');                    â”‚
â”‚ 7  }                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ä¼˜åŒ–å»ºè®®

```javascript
// é—®é¢˜: Bootstrap CSS åªä½¿ç”¨äº† 7%
// è§£å†³æ–¹æ¡ˆ:

// 1. åªå¯¼å…¥éœ€è¦çš„ç»„ä»¶
import 'bootstrap/dist/css/bootstrap-grid.css';  // åªè¦ç½‘æ ¼ç³»ç»Ÿ

// 2. ä½¿ç”¨ PurgeCSS
// postcss.config.js
module.exports = {
  plugins: [
    require('@fullhuman/postcss-purgecss')({
      content: ['./src/**/*.html', './src/**/*.js'],
    })
  ]
}

// 3. è€ƒè™‘æ›´è½»é‡çš„æ›¿ä»£æ–¹æ¡ˆ
// Bootstrap â†’ Tailwind CSS
// Moment.js â†’ date-fns
// Lodash â†’ Lodash-es (tree-shakeable)
```

---

## Rendering é¢æ¿

### æ‰“å¼€ Rendering

```bash
DevTools -> More tools -> Rendering
```

### å¯ç”¨é€‰é¡¹

```javascript
â˜‘ Paint flashing
  // ç»˜åˆ¶åŒºåŸŸé—ªçƒç»¿è‰²
  // ç”¨äºè¯†åˆ«è¿‡åº¦ç»˜åˆ¶

â˜‘ Layout Shift Regions
  // å¸ƒå±€åç§»åŒºåŸŸé«˜äº®è“è‰²
  // ä¼˜åŒ– CLS (Cumulative Layout Shift)

â˜‘ Layer borders
  // æ˜¾ç¤ºåˆæˆå±‚è¾¹æ¡†
  // æ©™è‰² = æœ‰è¾¹æ¡†çš„å±‚

â˜‘ Frame Rendering Stats
  // æ˜¾ç¤º FPS å’Œ GPU å†…å­˜ä½¿ç”¨

â˜‘ Scrolling performance issues
  // é«˜äº®æ»šåŠ¨æ€§èƒ½é—®é¢˜

â–¡ Emulate CSS media type
  - screen
  - print

â–¡ Emulate CSS media feature prefers-color-scheme
  - light
  - dark
  - no-preference

â–¡ Emulate CSS media feature prefers-reduced-motion
  - reduce
  - no-preference

â–¡ Emulate vision deficiencies
  - No emulation
  - Blurred vision
  - Protanopia (no red)
  - Deuteranopia (no green)
  - Tritanopia (no blue)
  - Achromatopsia (no color)
```

### Paint Flashing ä½¿ç”¨

```javascript
å¯ç”¨ Paint flashing å:

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                     â”‚
â”‚  ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©            â”‚  â† æ•´ä¸ªåŒºåŸŸé—ªç»¿è‰²
â”‚  ğŸŸ©         ğŸŸ©                    â”‚     = è¿‡åº¦ç»˜åˆ¶
â”‚  ğŸŸ©  å†…å®¹   ğŸŸ©                    â”‚
â”‚  ğŸŸ©         ğŸŸ©                    â”‚
â”‚  ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©ğŸŸ©            â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

é—®é¢˜: æ¯æ¬¡hoveréƒ½é‡ç»˜æ•´ä¸ªå®¹å™¨

// âŒ è§¦å‘å¤§é¢ç§¯é‡ç»˜
.container:hover {
  background-color: blue;  // æ•´ä¸ªå®¹å™¨é‡ç»˜
}

// âœ… åªé‡ç»˜éœ€è¦çš„éƒ¨åˆ†
.container:hover::after {
  content: '';
  background: blue;
  // ä½¿ç”¨ä¼ªå…ƒç´ æˆ–å­å…ƒç´ 
}

// âœ… æ›´å¥½: ä½¿ç”¨ transform (ä¸è§¦å‘ paint)
.container {
  transform: translateZ(0);  // æå‡ä¸ºåˆæˆå±‚
}
.container:hover {
  transform: scale(1.05);  // åªè§¦å‘ composite
}
```

---

## Layers é¢æ¿

### æ‰“å¼€ Layers

```bash
DevTools -> More tools -> Layers
```

### 3D å±‚çº§è§†å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                      â”‚
â”‚              â•±â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                           â”‚
â”‚            â•±  â”‚ Layer 3 â”‚ (will-change: transform) â”‚
â”‚          â•±    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                           â”‚
â”‚        â•±â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                 â”‚
â”‚      â•±  â”‚ Layer 2 â”‚ (position: fixed)              â”‚
â”‚    â•±    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                 â”‚
â”‚  â•±â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                       â”‚
â”‚â•±  â”‚ Layer 1 â”‚ (document)                           â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚
â”‚                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ç‚¹å‡»æŸå±‚æŸ¥çœ‹è¯¦æƒ…:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Size: 1200 Ã— 800                     â”‚
â”‚ Compositing Reasons:                 â”‚
â”‚ - has a will-change: transform hint â”‚
â”‚ - has a 3d transform                â”‚
â”‚                                      â”‚
â”‚ Memory estimate: 3.75 MB             â”‚
â”‚ Paint count: 1                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åˆ›å»ºåˆæˆå±‚çš„åŸå› 

```javascript
// 1. CSS å±æ€§
.element {
  will-change: transform;     // æç¤ºæµè§ˆå™¨
  transform: translateZ(0);   // 3D transform
  transform: translate3d(0,0,0);
}

// 2. CSS åŠ¨ç”»
@keyframes slide {
  from { transform: translateX(0); }
  to { transform: translateX(100px); }
}

// 3. position: fixed
.header {
  position: fixed;  // åˆ›å»ºæ–°å±‚
}

// 4. <video>, <canvas>, <iframe>
// è‡ªåŠ¨åˆ›å»ºåˆæˆå±‚

// 5. overflow: scroll ä¸”æœ‰ç¡¬ä»¶åŠ é€Ÿå†…å®¹
.scrollable {
  overflow: scroll;
}

// æ³¨æ„: è¿‡å¤šçš„åˆæˆå±‚ä¼šå¢åŠ å†…å­˜ä½¿ç”¨
```

---

## Performance Monitor

### æ‰“å¼€ Performance Monitor

```bash
DevTools -> More tools -> Performance monitor
```

### å®æ—¶ç›‘æ§æŒ‡æ ‡

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â˜‘ CPU usage                    15%  â–‚â–â–ƒâ–…â–„â–‚â–       â”‚
â”‚ â˜‘ JS heap size            25.8 MB  â”â”â”â”â”â”â”â”       â”‚
â”‚ â˜‘ DOM Nodes                  1,250  â”â”â”â”â”â”â”â”       â”‚
â”‚ â˜‘ JS event listeners           458  â”â”â”â”â”â”â”â”       â”‚
â”‚ â˜‘ Documents                       4  â”â”â”â”â”â”â”â”       â”‚
â”‚ â˜‘ Frames                          3  â”â”â”â”â”â”â”â”       â”‚
â”‚ â˜‘ Layouts / sec                   2  â–â–â–ƒâ–â–â–â–       â”‚
â”‚ â˜‘ Style recalcs / sec             5  â–‚â–ƒâ–…â–ƒâ–‚â–â–       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

ä½¿ç”¨åœºæ™¯:
- å®æ—¶ç›‘æ§å†…å­˜å¢é•¿
- æ£€æµ‹å†…å­˜æ³„æ¼ (JS heap size æŒç»­å¢é•¿)
- ç›‘æ§ DOM èŠ‚ç‚¹æ•°é‡
- æ£€æµ‹è¿‡åº¦çš„å¸ƒå±€å’Œæ ·å¼é‡ç®—
```

---

## 2024 æ–°åŠŸèƒ½

### 1. CPU èŠ‚æµæ ¡å‡† (Chrome 134)

```javascript
Performance é¢æ¿ -> âš™ï¸ -> CPU -> Calibrate

è‡ªåŠ¨ç”Ÿæˆ:
- Low-tier mobile (ä½ç«¯ç§»åŠ¨è®¾å¤‡)
- Mid-tier mobile (ä¸­ç«¯ç§»åŠ¨è®¾å¤‡)

åŸºäºä½ çš„å¼€å‘æœºå™¨æ€§èƒ½
æ›´å‡†ç¡®åœ°æ¨¡æ‹ŸçœŸå®è®¾å¤‡
```

### 2. 20x CPU å‡é€Ÿ (Chrome 126)

```javascript
Performance é¢æ¿ -> âš™ï¸ -> CPU -> 20x slowdown

æ¨¡æ‹Ÿæä½ç«¯è®¾å¤‡
æ”¾å¤§æ€§èƒ½é—®é¢˜
å¸®åŠ©é‡‡æ · profiler æ•è·æ›´å¤šç»†èŠ‚
```

### 3. åŸºäºçœŸå®ç”¨æˆ·æ•°æ®çš„å»ºè®®

```javascript
å¦‚æœç½‘ç«™åœ¨ Chrome User Experience Report (CrUX) ä¸­:
- DevTools ä¼šæ˜¾ç¤ºçœŸå®ç”¨æˆ·çš„è®¾å¤‡åˆ†å¸ƒ
- æ¨èé€‚åˆçš„èŠ‚æµé…ç½®
- å¸®åŠ©ä¼˜åŒ–å®é™…ç”¨æˆ·ä½“éªŒ
```

### 4. è‡ªå®šä¹‰ç«ç„°å›¾è¿‡æ»¤ (Chrome 124)

```javascript
å³é”®ç‚¹å‡»ç«ç„°å›¾ä¸­çš„å‡½æ•°:
- Hide function (éšè—è¿™ä¸ªå‡½æ•°)
- Hide children (éšè—æ‰€æœ‰å­å‡½æ•°)
- Hide repeating children (éšè—é‡å¤å‡ºç°çš„å­å‡½æ•°)

èšç„¦ä¸šåŠ¡ä»£ç ï¼Œéšè—æ¡†æ¶å†…éƒ¨è°ƒç”¨
```

### 5. Performance Insights é¢æ¿é›†æˆ

```javascript
æ–°çš„ Insights æ ‡ç­¾:
âœ“ è‡ªåŠ¨è¯†åˆ«æ€§èƒ½é—®é¢˜
âœ“ æä¾›ä¼˜åŒ–å»ºè®®
âœ“ æ˜¾ç¤º Core Web Vitals
âœ“ çªå‡ºæ˜¾ç¤ºé•¿ä»»åŠ¡å’Œå¸ƒå±€åç§»

æ¯”ä»¥å‰æ›´å®¹æ˜“å‘ç°å’Œç†è§£æ€§èƒ½é—®é¢˜
```

---

## å®ç”¨æŠ€å·§å’Œå¿«æ·é”®

### å¿«æ·é”®

```javascript
// å…¨å±€
Ctrl/Cmd + Shift + P   // å‘½ä»¤é¢æ¿
Ctrl/Cmd + P           // æ‰“å¼€æ–‡ä»¶
Ctrl/Cmd + F           // æœç´¢
Esc                    // æ˜¾ç¤º/éšè— Console drawer

// Network é¢æ¿
Ctrl/Cmd + E           // å¼€å§‹/åœæ­¢å½•åˆ¶
Ctrl/Cmd + R           // åˆ·æ–°é¡µé¢
Ctrl/Cmd + Shift + R   // ç¡¬åˆ·æ–° (æ¸…é™¤ç¼“å­˜)

// Performance é¢æ¿
Ctrl/Cmd + E           // å¼€å§‹/åœæ­¢å½•åˆ¶
Ctrl/Cmd + Shift + E   // é‡æ–°åŠ è½½å¹¶å½•åˆ¶

// Sources é¢æ¿
Ctrl/Cmd + O           // æ‰“å¼€æ–‡ä»¶
Ctrl/Cmd + Shift + O   // è·³è½¬åˆ°å‡½æ•°
F8                     // ç»§ç»­æ‰§è¡Œ
F10                    // å•æ­¥è·³è¿‡
F11                    // å•æ­¥è¿›å…¥
```

### å‘½ä»¤é¢æ¿æŠ€å·§

```javascript
Ctrl/Cmd + Shift + P æ‰“å¼€å‘½ä»¤é¢æ¿

å¸¸ç”¨å‘½ä»¤:
- Capture screenshot         // æˆªå›¾
- Capture full size screenshot  // å…¨é¡µæˆªå›¾
- Capture area screenshot    // åŒºåŸŸæˆªå›¾
- Capture node screenshot    // èŠ‚ç‚¹æˆªå›¾
- Show Coverage              // æ‰“å¼€ Coverage é¢æ¿
- Show Performance monitor   // æ‰“å¼€æ€§èƒ½ç›‘è§†å™¨
- Network conditions         // ç½‘ç»œæ¡ä»¶è®¾ç½®
- Sensors                    // ä¼ æ„Ÿå™¨æ¨¡æ‹Ÿ
```

### ç½‘ç»œæ¡ä»¶æ¨¡æ‹Ÿ

```javascript
Network é¢æ¿ -> âš™ï¸ -> Network conditions

èŠ‚æµé¢„è®¾:
- Fast 3G: 1.6 Mbps down, 750 Kbps up, 40ms RTT
- Slow 3G: 500 Kbps down, 500 Kbps up, 400ms RTT
- Offline: å®Œå…¨ç¦»çº¿

User Agent:
- æ¨¡æ‹Ÿä¸åŒè®¾å¤‡å’Œæµè§ˆå™¨
- æµ‹è¯•å“åº”å¼è®¾è®¡
```

### è®¾å¤‡æ¨¡æ‹Ÿ

```javascript
Ctrl/Cmd + Shift + M  // åˆ‡æ¢è®¾å¤‡å·¥å…·æ 

é€‰é¡¹:
- iPhone 14 Pro
- iPad Pro
- Galaxy S20
- è‡ªå®šä¹‰å°ºå¯¸

åŠŸèƒ½:
- è§¦æ‘¸æ¨¡æ‹Ÿ
- æ–¹å‘åˆ‡æ¢ (ç«–å±/æ¨ªå±)
- åƒç´ æ¯”æ¨¡æ‹Ÿ
- èŠ‚æµç½‘ç»œ
```

### Console æŠ€å·§

```javascript
// 1. æµ‹é‡æ€§èƒ½
console.time('operation');
// ... ä»£ç  ...
console.timeEnd('operation');
// è¾“å‡º: operation: 123.456ms

// 2. åˆ†ç»„æ—¥å¿—
console.group('User Data');
console.log('Name:', user.name);
console.log('Email:', user.email);
console.groupEnd();

// 3. è¡¨æ ¼æ˜¾ç¤º
console.table([
  { name: 'Alice', age: 25 },
  { name: 'Bob', age: 30 }
]);

// 4. æ¡ä»¶æ—¥å¿—
console.assert(x > 0, 'x must be positive');

// 5. å †æ ˆè·Ÿè¸ª
console.trace('Where am I called from?');

// 6. æ€§èƒ½æ ‡è®°
performance.mark('start');
// ... ä»£ç  ...
performance.mark('end');
performance.measure('duration', 'start', 'end');
console.log(performance.getEntriesByType('measure'));
```

### ä¿å­˜å’Œå¯¼å‡º

```javascript
// Performance é¢æ¿
ç‚¹å‡» â¬‡ ä¸‹è½½æŒ‰é’® -> ä¿å­˜ .json trace æ–‡ä»¶
ç‚¹å‡» â¬† ä¸Šä¼ æŒ‰é’® -> åŠ è½½ä¹‹å‰çš„ trace

// Network é¢æ¿
å³é”® -> Save all as HAR with content -> ä¿å­˜ .har æ–‡ä»¶

// Memory é¢æ¿
å †å¿«ç…§å³é”® -> Save -> ä¿å­˜ .heapsnapshot æ–‡ä»¶

// Coverage é¢æ¿
å³é”® -> Export -> å¯¼å‡º coverage æ•°æ®
```

---

## æ€»ç»“

### æ€§èƒ½åˆ†æå·¥ä½œæµ

```javascript
1. ä½¿ç”¨ Lighthouse è·å–æ€»ä½“è¯„åˆ†
   â†“
2. Performance é¢æ¿å½•åˆ¶ç”¨æˆ·äº¤äº’
   â†“
3. æŸ¥çœ‹ Overview æ‰¾åˆ°å¡é¡¿æ—¶æ®µ
   â†“
4. åˆ†æ Main çº¿ç¨‹ç«ç„°å›¾
   â†“
5. Network é¢æ¿æ£€æŸ¥è¯·æ±‚ç€‘å¸ƒ
   â†“
6. Coverage æŸ¥æ‰¾æœªä½¿ç”¨çš„ä»£ç 
   â†“
7. Memory é¢æ¿æ£€æµ‹å†…å­˜æ³„æ¼
   â†“
8. Rendering é¢æ¿ä¼˜åŒ–ç»˜åˆ¶
   â†“
9. åº”ç”¨ä¼˜åŒ–å¹¶é‡æ–°æµ‹è¯•
```

### å¸¸è§é—®é¢˜å¿«é€Ÿè¯Šæ–­

```javascript
é—®é¢˜: é¡µé¢åŠ è½½æ…¢
â†’ Network é¢æ¿
â†’ æ£€æŸ¥ TTFB, èµ„æºå¤§å°, å¹¶å‘è¯·æ±‚

é—®é¢˜: æ»šåŠ¨å¡é¡¿
â†’ Performance é¢æ¿
â†’ æŸ¥æ‰¾é•¿ä»»åŠ¡, Layout æŠ–åŠ¨

é—®é¢˜: å†…å­˜æŒç»­å¢é•¿
â†’ Memory é¢æ¿
â†’ å †å¿«ç…§å¯¹æ¯”, æ‰¾ Detached DOM

é—®é¢˜: åŒ…ä½“ç§¯å¤§
â†’ Coverage é¢æ¿
â†’ æ‰¾æœªä½¿ç”¨çš„ä»£ç 

é—®é¢˜: åŠ¨ç”»ä¸æµç•…
â†’ Rendering é¢æ¿
â†’ Paint flashing, Layer borders

é—®é¢˜: CLS åˆ†æ•°å·®
â†’ Rendering é¢æ¿
â†’ Layout Shift Regions
```

æŒæ¡ Chrome DevTools æ˜¯å‰ç«¯æ€§èƒ½ä¼˜åŒ–çš„å…³é”®æŠ€èƒ½ï¼
